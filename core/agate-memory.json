{
  "id": "agate-memory",
  "title": "ذاكرة العقيق - إدارة الخط الزمني للذاكرة",
  "description": "نظام نظري لتخزين وإدارة الأحداث المُقاسة والاحتمالات غير المحسومة في خط زمني مستمر",
  "category": "memory-timeline-system",
  "version": "1.0",
  "safety_level": "low_risk",

  "core_concept": {
    "timeline_thread": {
      "description": "الخيط الزمني الوحيد للواقع المُعاش",
      "properties": {
        "linearity": "يتحرك في اتجاه واحد (الماضي → الحاضر → المستقبل)",
        "immutability": "الأحداث المُقاسة لا تتغير",
        "continuity": "خط مستمر بدون انقطاع"
      }
    },
    "measured_agate": {
      "description": "العقيق الملون - الأحداث/القرارات المُقاسة",
      "source": "نتائج generative_collapse",
      "properties": {
        "fixed_color": "لون محدد يمثل طبيعة الحدث",
        "temporal_position": "موقع ثابت في الخط الزمني",
        "irreversible": "لا يمكن تغييره بعد القياس"
      },
      "color_coding": {
        "yellow": "قرارات وأفعال إيجابية",
        "blue": "لحظات تأمل وهدوء",
        "red": "انفعالات قوية وتوتر",
        "green": "أمل ونمو",
        "purple": "إبداع وخيال",
        "black": "أحداث صادمة أو مؤلمة"
      }
    },
    "white_agate": {
      "description": "العقيق الأبيض - الاحتمالات غير المُقاسة",
      "nature": "حالة superposition تحتوي على كل الاحتمالات الممكنة",
      "compression": "white*N للتسلسلات المتكررة",
      "reinterpretation_potential": "قابلة لإعادة التفسير بناءً على السياق الجديد"
    }
  },

  "system_architecture": {
    "memory_levels": {
      "individual_simulator_cache": {
        "description": "ذاكرة تخزين مؤقت لكل محاكي",
        "duration": "seconds_to_minutes",
        "purpose": "معالجة سريعة ومعلومات فورية",
        "capacity": "محدودة جداً",
        "content": "نتائج المعالجة الحالية فقط"
      },
      "voting_consensus_buffer": {
        "description": "منطقة تجميع أصوات المحاكيات",
        "duration": "minutes_to_hours", 
        "purpose": "تحديد ما يستحق التخزين في الخط الزمني",
        "mechanism": "simulators_vote_on_significance",
        "threshold": "consensus_level_for_timeline_storage"
      },
      "agate_timeline_storage": {
        "description": "التخزين طويل المدى في الخط الزمني",
        "duration": "days_to_lifetime",
        "purpose": "الذاكرة الأساسية للشخصية",
        "structure": "linear_timeline_with_compressed_segments"
      }
    },

    "voting_mechanism": {
      "participant_simulators": ["reality_processor", "prediction_engine", "memory_reconstructor", "social_modeler", "pattern_explorer"],
      "voting_criteria": {
        "significance_score": "مدى أهمية الحدث للهوية",
        "emotional_impact": "قوة التأثير العاطفي",
        "decision_weight": "مدى كونه نقطة تحول",
        "pattern_relevance": "صلته بالأنماط المهمة"
      },
      "consensus_threshold": 0.6,
      "tie_breaking": "reality_processor_has_double_vote"
    }
  },

  "input_output_spec": {
    "storage_input": {
      "type": "experience_package_with_simulator_votes",
      "format": {
        "raw_experience": "original_experience_data",
        "simulator_votes": "array[{simulator_id, significance_vote, color_suggestion}]",
        "temporal_context": "when_and_duration_of_experience",
        "consensus_level": "float[0-1]"
      }
    },
    "retrieval_input": {
      "type": "memory_query_with_context",
      "format": {
        "query_type": "enum[specific_event, time_range, pattern_search, gap_analysis]",
        "temporal_range": "start_and_end_timepoints", 
        "current_context": "for_reinterpretation_of_white_agate",
        "detail_level": "enum[timeline_only, full_reconstruction, white_agate_speculation]"
      }
    },
    "timeline_output": {
      "type": "reconstructed_timeline_segment",
      "format": {
        "measured_events": "array[colored_agate_with_details]",
        "white_segments": "array[{position, duration, possible_interpretations}]",
        "compression_info": "metadata_about_compressed_segments",
        "reinterpretation_confidence": "float[0-1]"
      }
    }
  },

  "storage_algorithms": {
    "intelligent_compression": {
      "description": "ضغط ذكي للتسلسلات المتشابهة",
      "examples": {
        "basic_compression": "[blue, yellow, white, white, white, red] → [blue, yellow, white*3, red]",
        "pattern_compression": "[white*10, red, white*5] → [white*15, red_interruption@position_10]",
        "gradient_compression": "[yellow, yellowish_white*3, blue] → [yellow→blue_gradient*5]"
      },
      "compression_rules": {
        "consecutive_white": "white*N for N consecutive unmeasured states",
        "similar_patterns": "pattern_templates for recurring sequences",
        "gradient_detection": "smooth_transitions between measured points"
      }
    },

    "white_agate_logical_constraints": {
      "description": "العقيق الأبيض مقيد بالإمكانيات المنطقية والفيزيائية فقط",
      "constraint_types": {
        "geographical_constraints": "المسافات الجغرافية والطرق المتاحة",
        "temporal_constraints": "الوقت المطلوب للانتقال بين النقاط المُقاسة", 
        "physical_constraints": "قيود الجسم البشري والتكنولوجيا المتاحة",
        "technological_constraints": "وسائل النقل والاتصال المتاحة في ذلك الوقت"
      },
      "speculation_boundaries": {
        "physically_possible": "only_events_that_could_actually_happen",
        "geographically_feasible": "routes_and_distances_that_make_sense",
        "temporally_consistent": "travel_time_matches_available_time_window",
        "technologically_available": "tools_and_methods_available_at_that_time"
      },
      "example_constraints": {
        "casablanca_to_tangier_1990s": {
          "possible_methods": ["bus", "shared_taxi", "private_car", "train"],
          "impossible_methods": ["plane", "camel", "teleportation", "boat"],
          "travel_time_range": "3-6_hours",
          "logical_stops": ["rabat", "kenitra", "smaller_towns_on_route"]
        }
      }
    }
  },

  "reinterpretation_mechanisms": {
    "context_dependent_recoloring": {
      "description": "إعادة تفسير العقيق الأبيض بناءً على السياق الحالي",
      "example": {
        "original_sequence": "[confident_decision(yellow), white*5, calm_outcome(blue)]",
        "current_happy_context": "white*5 → probably_positive_gradient(yellow_to_light_blue)",
        "current_sad_context": "white*5 → probably_struggled_transition(yellow_to_dark_blue)"
      },
      "reinterpretation_triggers": [
        "significant_mood_change",
        "new_information_about_past_period",
        "therapy_or_reflection_sessions",
        "anniversary_or_reminder_events"
      ]
    },

    "retroactive_pattern_recognition": {
      "description": "اكتشاف أنماط جديدة في العقيق الأبيض",
      "mechanism": "pattern_explorer_simulator_analyzes_white_segments",
      "discoveries": [
        "hidden_behavioral_cycles",
        "unconscious_decision_patterns", 
        "emotional_transition_templates",
        "relationship_evolution_phases"
      ]
    }
  },

  "integration_with_cpf": {
    "generative_collapse_integration": {
      "relationship": "agate_memory_stores_collapse_results",
      "data_flow": "collapse_decision → measured_agate_with_color",
      "feedback_loop": "past_patterns_influence_future_collapse_weights"
    },
    
    "emotional_encryption_synergy": {
      "relationship": "emotional_context_determines_agate_color",
      "shared_function": "both_systems_link_emotions_to_memory",
      "division_of_labor": {
        "emotional_encryption": "detailed_memory_content_with_emotional_keys",
        "agate_memory": "high_level_timeline_structure_and_patterns"
      }
    },

    "generative_reconstruction_coordination": {
      "relationship": "agate_provides_timeline_structure_for_reconstruction",
      "use_case": "white_agate_speculation_guides_memory_reconstruction",
      "conflict_resolution": "measured_agate_overrides_reconstructed_memories"
    },

    "ariadne_thread_safety": {
      "safety_integration": "ariadne_monitors_excessive_white_agate_speculation",
      "intervention_triggers": ["too_much_reinterpretation", "disconnection_from_measured_reality"],
      "protection_mechanism": "force_focus_on_recent_measured_agate"
    }
  },

  "parameters": {
    "compression_aggressiveness": {
      "type": "float",
      "range": [0.1, 0.9],
      "default": 0.6,
      "description": "مدى قوة ضغط التسلسلات المتشابهة"
    },
    "white_agate_speculation_depth": {
      "type": "integer", 
      "range": [1, 10],
      "default": 4,
      "description": "عمق التخمين لمحتوى العقيق الأبيض"
    },
    "reinterpretation_flexibility": {
      "type": "float",
      "range": [0.0, 1.0], 
      "default": 0.7,
      "description": "مدى السماح بإعادة تفسير العقيق الأبيض"
    },
    "timeline_retention_period": {
      "type": "integer",
      "range": [30, 36500],
      "default": 365,
      "description": "عدد الأيام للاحتفاظ بالتفاصيل الكاملة"
    }
  },

  "applications": [
    "فهم كيفية تطور السرد الشخصي مع الوقت",
    "تحليل أنماط اتخاذ القرارات التاريخية",
    "تتبع التغيرات في الشخصية والهوية",
    "إدارة ذكية لتخزين المعلومات الشخصية",
    "فهم تأثير السياق على تفسير الماضي"
  ],

  "limitations": [
    "قد يؤدي للإفراط في تحليل الماضي",
    "خطر تشويه الذكريات الحقيقية بالتخمين",
    "تعقيد إضافي في إدارة الذاكرة",
    "صعوبة في تحديد ما يستحق التخزين"
  ],

  "safety_notes": [
    "⚠️ هذا نموذج نظري لفهم تنظيم الذاكرة وليس أداة لتعديل الذكريات",
    "⚠️ إعادة تفسير العقيق الأبيض لا يعني تغيير الماضي الفعلي",
    "⚠️ التركيز المفرط على الفجوات قد يؤدي للوسواس",
    "⚠️ استشر المختصين في حالة الرغبة في تحليل الذكريات الصادمة"
  ],

  "pseudocode": {
    "reference": "./pseudocode/agate_memory_pseudo.js",
    "key_functions": [
      "storeExperienceInTimeline()",
      "compressWhiteSegments()",
      "speculateWhiteContent()",
      "reinterpretInContext()",
      "retrieveTimelineSegment()"
    ]
  },

  "meta": {
    "created": "2024",
    "author": "Ibrahim + Claude - Idea Vibing Session",
    "inspiration": "تحويل الشعر إلى منطق + نظرية الخطوط الزمنية + ضغط البيانات",
    "status": "مفهوم نظري جديد يسد فجوة في CPF",
    "integration_priority": "عالية - يربط بين عدة مفاهيم موجودة"
  }
}
